## 一． 位操作基础，用一张表描述位操作符的应用规则并详细解释。
基本的位操作符有与、或、异或、取反、左移、右移这6种，它们的运算规则如下所示：

符号|描述|运算规则
---|:--:|---
&  |与  |两个位都为1时，结果才为1
\| |或  |两个位都为0时，结果才为0
^  |异或 |两个位相同为0，相异为1
~  |取反 |0变1，1变0
<< |左移 |各二进位全部左移若干位，高位丢弃，低位补0
\>>|右移 |各二进位全部右移若干位，对无符号数，高位补0，有符号数，各编译器处理方法不一样，有的补符号位（算术右移），有的补0（逻辑右移）

## 二． 常用位操作小技巧，有判断奇偶、交换两数、变换符号、求绝对值。
### 1．判断奇偶
只要根据最未位是0还是1来决定，为0就是偶数，为1就是奇数。因此可以用if ((a & 1) == 0)代替if (a % 2 == 0)来判断a是不是偶数。

下面程序将输出0到100之间的所有奇数。

```
	for (i = 0; i < 100; ++i)
		if (i & 1)
			printf("%d ", i);
	putchar('\n');
```
### 2．交换两数
一般的写法是：
```
void Swap(int &a, int &b)
{
	if (a != b)
	{
		int c = a;
		a = b;
		b = c;
	}
}
```
可以用位操作来实现交换两数而不用第三方变量：
```
void Swap(int &a, int &b)
{
	if (a != b)
	{
		a ^= b;
		b ^= a;
		a ^= b;
	}
}
```
可以这样理解：

第一步  a^=b 即a=(a^b);

第二步  b^=a 即b=b^(a^b)，由于^运算满足交换律，b^(a^b)=b^b^a。由于一个数和自己异或的结果为0并且任何数与0异或都会不变的，所以此时b被赋上了a的值。

第三步 a^=b 就是a=a^b，由于前面二步可知a=(a^b)，b=a，所以a=a^b即a=(a^b)^a。故a会被赋上b的值。
再来个实例说明下以加深印象。int a = 13, b = 6;

a的二进制为 13=8+4+1=1101(二进制)

b的二进制为 6=4+2=110(二进制)

第一步 a^=b  a = 1101 ^ 110 = 1011;

第二步 b^=a  b = 110 ^ 1011 = 1101;即b=13

第三步 a^=b  a = 1011 ^ 1101 = 110;即a=6
### 3．变换符号
变换符号就是正数变成负数，负数变成正数。

如对于-11和11，可以通过下面的变换方法将-11变成11

      1111 0101(二进制) –取反-> 0000 1010(二进制) –加1-> 0000 1011(二进制)

同样可以这样的将11变成-11

      0000 1011(二进制) –取反-> 0000 0100(二进制) –加1-> 1111 0101(二进制)

因此变换符号只需要取反后加1即可。完整代码如下：
```  
#include <stdio.h>
int SignReversal(int a)
{
	return ~a + 1;
}
int main()
{
	printf("对整数变换符号 \n\n");
	int a = 7, b = -12345;
	printf("%d  %d\n", SignReversal(a), SignReversal(b));
	return 0;
}
```
### 4．求绝对值
位操作也可以用来求绝对值，对于负数可以通过对其取反后加1来得到正数。对-6可以这样：

      1111 1010(二进制) –取反->0000 0101(二进制) -加1-> 0000 0110(二进制)

来得到6。

因此先移位来取符号位，int i = a >> 31;要注意如果a为正数，i等于0，为负数，i等于-1。然后对i进行判断——如果i等于0，直接返回。否之，返回~a+1。完整代码如下：
```
int my_abs(int a)
{
	int i = a >> 31;
	return i == 0 ? a : (~a + 1);
}
```
现在再分析下。对于任何数，与0异或都会保持不变，与-1即0xFFFFFFFF异或就相当于取反。因此，a与i异或后再减i（因为i为0或-1，所以减i即是要么加0要么加1）也可以得到绝对值。所以可以对上面代码优化下：
```
int my_abs(int a)
{
	int i = a >> 31;
	return ((a ^ i) - i);
}
```
## 三． 位操作与空间压缩，针对筛素数进行空间压缩。

## 四． 位操作的趣味应用，列举了位操作在高低位交换、二进制逆序、二进制中1的个数
